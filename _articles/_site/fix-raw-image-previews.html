<p>The Files app doesn’t display thumbnails for raw images by default, but RawTherapee can handle a large array of raw image formats. We can use RawTherapee’s ability to convert raw images into PNGs to create thumbnails for other programs.</p>

<h2 id="install-rawtherapee">Install RawTherapee</h2>

<p>First, install RawTherapee using this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install rawtherapee
</code></pre></div></div>

<h2 id="create-a-custom-thumbnailer">Create a custom thumbnailer</h2>

<p>Nautilus uses thumbnailer scripts to generate thumbnails for images. Create a thumbnailer for raw images using this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo gedit /usr/share/thumbnailers/rawtherapee.thumbnailer
</code></pre></div></div>

<p>Copy and paste the following text into the file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[Thumbnailer Entry]
TryExec=/usr/bin/rawtherapee-cli
Exec=/usr/bin/rawtherapee-cli -s -n -Y -f -o %o -c %i 
MimeType=image/x-arw;image/x-bay;image/x-canon-cr2;image/x-canon-crw;image/x-cap;image/x-cr2;image/x-crw;image/x-dcr;image/x-dcraw;image/x-dcs;image/x-dng;image/x-drf;image/x-eip;image/x-erf;image/x-fff;image/x-fuji-raf;image/x-iiq;image/x-k25;image/x-kdc;image/x-mef;image/x-minolta-mrw;image/x-mos;image/x-mrw;image/x-nef;image/x-nikon-nef;image/x-nrw;image/x-olympus-orf;image/x-orf;image/x-panasonic-raw;image/x-panasonic-raw2;image/x-pef;image/x-pentax-pef;image/x-ptx;image/x-pxn;image/x-r3d;image/x-raf;image/x-raw;image/x-rw2;image/x-rwl;image/x-rwz;image/x-samsung-srw;image/x-sigma-x3f;image/x-sony-arw;image/x-sony-sr2;image/x-sony-srf;image/x-sr2;image/x-srf;image/x-x3f;image/x-adobe-dng;image/x-portable-pixmap;image/tiff;
</code></pre></div></div>

<p>Then save the file and close Gedit.</p>

<h2 id="clearing-previous-thumbnails">Clearing previous thumbnails</h2>

<p>Though sometimes unnessesary, it’s always a good idea to start fresh with thumbnail creation. To do this, delete the thumbnailer cache using this command:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -r ~/.cache/thumbnails/*
</code></pre></div></div>

<p><strong>Note:</strong> This will force Nautilus to recreate the thumbnails for all of your files. Depending on the number, size, and format of your images, this can cause some lag the first time visiting an image-heavy directory.</p>

<h2 id="considerations">Considerations</h2>

<ol>
  <li>Not all raw images are supported by RawTherapee.</li>
  <li>Converting raw images to a more suitable format can take some time (~1 second per file in most cases.)</li>
</ol>
